• Objective: Extract and consolidate all critical content from customer purchase orders in PDF (lighting product trading context), using PyMuPDF parsed text, and produce a single continuous plain text output for human review
• Background: POs may span multiple pages, contain tables, headers, revisions, and mixed layouts; requirement is one coherent consolidated text without page breaks
• Style: Professional, concise, human-friendly, plain text only, optimized for readability and review
• Input: PyMuPDF parsed text blocks with reading order and table structures (rows, columns, spans) if available
• Output format (consolidated plain text):
– Header section: Purchase Order Number, Date, Revision, Buyer, Seller, Bill To, Ship To, Consignee, Project, Quotation/Reference, Currency, Incoterms, Payment Terms, Shipment Terms, Delivery Date, Contact Details
– Totals section: Subtotal, Discount, Tax, Freight, Grand Total
– Line Items section as table-like aligned text: [Line No | Item Code | Description | Specifications | Quantity | UOM | Unit Price | Amount | Delivery Date | Remarks]
– Compliance / Logistics section: Warranty, Standards, Certifications, Packaging, Labeling, Special Instructions
– Notes or Attachments section: Additional remarks or references from the document
• Extraction logic:
– Consolidate across pages into one continuous flow; remove explicit page references
– Preserve logical hierarchy; use section headings with clear spacing
– Align tables consistently with pipes or spaces; multiline descriptions indented under same row
– Leave placeholder when data is missing (e.g., “Payment Terms: [Not found]”)
– Show alternates if multiple candidate values exist (e.g., “Possible Alternatives: …”)
– Preserve original wording for ambiguous values; normalize only if unambiguous
– If OCR required for missing text, note with “(OCR required)”
• Output rules:
– No metadata, JSON, XML, or CSV—only plain text
– No page break markers; everything consolidated into one clean document
– Maintain consistent order of sections regardless of PDF layout differences
– Do not invent or infer missing information; show only what is parsed
• Edge cases: multiple POs in one file → separate with “=== New Purchase Order ===”; tables spanning pages → merge seamlessly without break markers